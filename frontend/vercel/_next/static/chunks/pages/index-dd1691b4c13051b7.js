(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(8496)}])},8496:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return N}});var a=r(7568),n=r(414),s=r(5893),o=r(7294),c=r(1737),i=r(6242),l=r(4267),d=r(6886),u=r(4054),p=r(3841),h=r(6008),f=r(2224),x=r(1903),m=r(1057),g=r(2882),v=r(5113),b=r(7906),y=r(3184),k=r(3816),Z=r(3252),j=r(295),C=(0,r(1496).ZP)("div")((function(e){var t=e.theme;return{"& .apexcharts-canvas":{"& line[stroke='transparent']":{display:"none"},"& .apexcharts-xaxis > line, & .apexcharts-yaxis > line":{stroke:t.palette.divider},"& .apexcharts-xaxis-tick, & .apexcharts-yaxis-tick":{stroke:t.palette.divider},"& .apexcharts-tooltip":{boxShadow:t.shadows[3],borderColor:t.palette.divider,background:t.palette.background.paper,"& .apexcharts-tooltip-title":{fontWeight:600,borderColor:t.palette.divider,background:t.palette.background.paper},"&.apexcharts-theme-dark":{"& .apexcharts-tooltip-text-label, & .apexcharts-tooltip-text-value":{color:t.palette.common.white}},"& .bar-chart":{padding:t.spacing(2,2.5)}},"& .apexcharts-xaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default,"& .apexcharts-xaxistooltip-text":{color:t.palette.text.primary},"&:after":{borderBottomColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default},"&:before":{borderBottomColor:t.palette.divider}},"& .apexcharts-yaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default,"& .apexcharts-yaxistooltip-text":{color:t.palette.text.primary},"&:after":{borderLeftColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default},"&:before":{borderLeftColor:t.palette.divider}},"& .apexcharts-text, & .apexcharts-tooltip-text, & .apexcharts-datalabel-label, & .apexcharts-datalabel":{filter:"none",fontWeight:400,fill:t.palette.text.primary,fontFamily:"".concat(t.typography.fontFamily," !important")},"& .apexcharts-pie-label":{filter:"none",fill:t.palette.common.white},"& .apexcharts-pie":{"& .apexcharts-datalabel-label, .apexcharts-datalabel-value":{fontSize:"1.5rem"}},"& .apexcharts-marker":{boxShadow:"none"},"& .apexcharts-legend-series":{margin:"".concat(t.spacing(.75,2)," !important"),"& .apexcharts-legend-text":{marginLeft:t.spacing(.75),color:"".concat(t.palette.text.primary," !important")}},"& .apexcharts-xcrosshairs, & .apexcharts-ycrosshairs, & .apexcharts-gridline":{stroke:t.palette.divider},"& .apexcharts-heatmap-rect":{stroke:"light"===t.palette.mode?t.palette.background.paper:t.palette.background.default},"& .apexcharts-radialbar > g > g:first-of-type .apexcharts-radialbar-area":{stroke:t.palette.background.default},"& .apexcharts-radar-series polygon":{stroke:t.palette.divider,fill:t.palette.background.paper},"& .apexcharts-radar-series line":{stroke:t.palette.divider}}}})),I=r(276),w=r(8073),_=["PlayEstate Mystery Chest"];function S(e){return e>=0&&e<2?_[e]:"Invalid Collection"}function T(e,t,r,a,n,s,o){return{id:e,tName:S(t),tokenId:r,address:a,confirmed:n,executed:s,reverted:o}}var N=function(){var e,t=(0,w.r)(),r=t.settings,N=(t.saveSettings,(0,o.useState)(!0)),P=(N[0],N[1],(0,o.useState)("Loading...")),E=(P[0],P[1],(0,o.useState)({type:"info",payload:"Your action info will be alerted, here"})),W=E[0],A=E[1],D=(0,o.useState)([]),F=D[0],L=D[1],M=(0,o.useState)(0),O=M[0],R=M[1],B=(0,o.useState)(0),X=(B[0],B[1]),z=(0,o.useState)(""),Y=z[0],q=z[1],G=(0,o.useState)(""),H=G[0],J=G[1],K=function(e){var t=e.target;"tier"==t.name?R(t.value):"nfttype"==t.name?X(t.value):"tokenId"==t.name?q(t.value):"address"==t.name&&J(t.value)};(0,o.useEffect)((function(){var t=function(){var e=(0,a.Z)((function(){return(0,n.__generator)(this,(function(e){return R(0),q(""),J(""),[2]}))}));return function(){return e.apply(this,arguments)}}();t(),e=setInterval(ee,1e3)}),[]);var Q=function(e,t){A({type:e,payload:t}),setTimeout((function(){A({type:"",payload:""})}),15e3)},U=function(){var e=(0,a.Z)((function(e){var t,a,s,o,c,i,l,d,u,p,h;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts||0==r.accounts.length)return Q("error","Connect to your wallet!"),[2];t=r.giftdrop,a=r.MinionverseContract,s=r.RoosterwarsContract,o=r.accounts,n.label=1;case 1:return n.trys.push([1,6,,7]),42!=H.length?(Q("error","Invalid address to: ".concat(H)),[2]):(c=0==O?r.minionverse.startId:r.roosterwars.startId,i=0==O?r.minionverse.endId:r.roosterwars.endId,l=S(O),d=Number(Y),Number(d)<Number(c)||Number(d)>Number(i)?(Q("error","".concat(l,": Token Id ").concat(d," is out of range [").concat(c,", ").concat(i,"]")),[2]):[4,(0==O?a:s).methods.ownerOf(d).call()]);case 2:return u=n.sent().toLowerCase(),[4,(0,I.getTreasury)()];case 3:return p=n.sent(),u!=p?(Q("error","".concat(l,": Token Id ").concat(d," doesn't exist in the treasury.")),[2]):(1e7,[4,t.methods.submitAndConfirm(H,O,d,"0x00").send({from:o[0],gas:1e7})]);case 4:return n.sent(),Q("success","Submit & Confirm Success!\n          -> ".concat(l," Token #").concat(d,"\n          ")),[4,ee()];case 5:return n.sent(),[3,7];case 6:return h=n.sent(),Q("error","".concat(h.message)),[3,7];case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),V=function(){var e=(0,a.Z)((function(e,t){var a,s,o,c;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts)return Q("error","Connect to your wallet!"),[2];a=r.giftdrop,s=r.accounts,o=t,n.label=1;case 1:return n.trys.push([1,4,,5]),1e7,[4,a.methods.confirmAndExecute(o).send({from:s[0],gas:1e7})];case 2:return n.sent(),Q("success","Successfully confirmed and executed!\n          -> Transaction ID: ".concat(o,"\n          ")),[4,ee()];case 3:return n.sent(),[3,5];case 4:return c=n.sent(),Q("error","".concat(o," : ").concat(c.message)),[3,5];case 5:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}(),$=function(){var e=(0,a.Z)((function(e,t){var a,s,o,c;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts)return Q("error","Connect to your wallet!"),[2];a=r.giftdrop,s=r.accounts,o=t,n.label=1;case 1:return n.trys.push([1,4,,5]),1e7,[4,a.methods.revoke(o).send({from:s[0],gas:1e7})];case 2:return n.sent(),Q("success","Successfully revoked!\n          -> Transaction ID: ".concat(o,"\n          ")),[4,ee()];case 3:return n.sent(),[3,5];case 4:return c=n.sent(),Q("error","".concat(o," : ").concat(c.message)),[3,5];case 5:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}();function ee(){return te.apply(this,arguments)}function te(){return(te=(0,a.Z)((function(){var t,a,s,o,c,i,l,d,u;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return r.accounts?(e&&clearInterval(e),t=[],a=r.giftdrop,s=r.accounts,[4,a.methods.getTransactionCount().call()]):[2];case 1:o=n.sent(),c=o-1,n.label=2;case 2:return c>=0?[4,a.methods.getTransaction(c).call()]:[3,6];case 3:return i=n.sent(),l=i.tokenId,d=i.tierIndex,[4,a.methods.isConfirmed(c,s[0]).call()];case 4:u=n.sent(),t.push(T(c,d,l,i.to,u,i.executed,i.reverted)),n.label=5;case 5:return c--,[3,2];case 6:return L(t),[2]}}))}))).apply(this,arguments)}return(0,s.jsxs)(C,{children:["undefined"!==typeof W.payload&&""!==W.payload&&(0,s.jsx)(c.Z,{severity:"".concat(W.type),children:W.payload}),null!=r.minionverse&&(0,s.jsx)(c.Z,{severity:"success",children:"PlayEstate Mystery Chest From #".concat(r.minionverse.startId," To #").concat(r.minionverse.endId)}),(0,s.jsx)(i.Z,{sx:{position:"relative"},children:(0,s.jsx)(l.Z,{children:(0,s.jsxs)(d.ZP,{container:!0,spacing:6,children:[(0,s.jsx)(d.ZP,{item:!0,sm:12,md:3,alignItems:"center",justifyContent:"center",children:(0,s.jsxs)(u.Z,{fullWidth:!0,children:[(0,s.jsx)(p.Z,{id:"demo-simple-select-label",children:"Select NFTs"}),(0,s.jsx)(h.Z,{name:"tier",labelId:"demo-simple-select-label",id:"demo-simple-select",value:O,label:"Select Type",onChange:K,children:(0,s.jsx)(f.Z,{value:0,children:_[0]},0)})]})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(x.Z,{name:"tokenId",fullWidth:!0,label:"Token Index (1~200)",placeholder:"Token Index",value:Y,onChange:K})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:5,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(x.Z,{name:"address",fullWidth:!0,label:"Address To",placeholder:"Address",value:H,onChange:K})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,sx:{display:"flex"},alignItems:"center",justifyContent:"center",children:(0,s.jsx)(m.Z,{variant:"contained",onClick:function(e){return U(e)},children:"Send"})})]})})}),(0,s.jsx)(g.Z,{component:v.Z,children:(0,s.jsxs)(b.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,s.jsx)(y.Z,{children:(0,s.jsxs)(k.Z,{children:[(0,s.jsx)(Z.Z,{algin:"left",sx:{width:"10%"},children:"#"}),(0,s.jsx)(Z.Z,{align:"left",children:"NFT"}),(0,s.jsx)(Z.Z,{align:"left",children:"Token Id"}),(0,s.jsx)(Z.Z,{align:"left",children:"Address"}),(0,s.jsx)(Z.Z,{align:"left",sx:{width:"15%"},children:"Status"})]})}),(0,s.jsx)(j.Z,{children:F.map((function(e){return(0,s.jsxs)(k.Z,{children:[(0,s.jsx)(Z.Z,{align:"left",component:"th",scope:"row",children:e.id}),(0,s.jsx)(Z.Z,{align:"left",children:e.tName}),(0,s.jsx)(Z.Z,{align:"left",children:e.tokenId}),(0,s.jsx)(Z.Z,{align:"left",children:e.address}),(0,s.jsx)(Z.Z,{align:"left",children:e.executed?(0,s.jsx)(m.Z,{children:"Completed"}):e.reverted?(0,s.jsx)(m.Z,{children:"Revoked"}):1==e.confirmed?(0,s.jsx)(m.Z,{variant:"outlined",onClick:function(t){return $(t,e.id)},children:"Revoke"}):(0,s.jsx)(m.Z,{variant:"outlined",onClick:function(t){return V(t,e.id)},children:"Confirm"})})]},e.id)}))})]})})]})}}},function(e){e.O(0,[260,774,888,179],(function(){return t=5557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);