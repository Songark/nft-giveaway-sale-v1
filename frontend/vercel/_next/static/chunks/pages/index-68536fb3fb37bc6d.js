(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{75557:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return r(48496)}])},48496:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return R}});var a=r(47568),n=r(70655),s=r(85893),o=r(67294),l=r(21737),c=r(66242),i=r(44267),d=r(86886),u=r(94054),p=r(33841),h=r(36008),f=r(22224),x=r(61903),m=r(11057),g=r(72882),v=r(55113),b=r(7906),y=r(53184),Z=r(53816),j=r(53252),k=r(295),C=(0,r(11496).ZP)("div")((function(e){var t=e.theme;return{"& .apexcharts-canvas":{"& line[stroke='transparent']":{display:"none"},"& .apexcharts-xaxis > line, & .apexcharts-yaxis > line":{stroke:t.palette.divider},"& .apexcharts-xaxis-tick, & .apexcharts-yaxis-tick":{stroke:t.palette.divider},"& .apexcharts-tooltip":{boxShadow:t.shadows[3],borderColor:t.palette.divider,background:t.palette.background.paper,"& .apexcharts-tooltip-title":{fontWeight:600,borderColor:t.palette.divider,background:t.palette.background.paper},"&.apexcharts-theme-dark":{"& .apexcharts-tooltip-text-label, & .apexcharts-tooltip-text-value":{color:t.palette.common.white}},"& .bar-chart":{padding:t.spacing(2,2.5)}},"& .apexcharts-xaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default,"& .apexcharts-xaxistooltip-text":{color:t.palette.text.primary},"&:after":{borderBottomColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default},"&:before":{borderBottomColor:t.palette.divider}},"& .apexcharts-yaxistooltip":{borderColor:t.palette.divider,background:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default,"& .apexcharts-yaxistooltip-text":{color:t.palette.text.primary},"&:after":{borderLeftColor:"light"===t.palette.mode?t.palette.grey[50]:t.palette.background.default},"&:before":{borderLeftColor:t.palette.divider}},"& .apexcharts-text, & .apexcharts-tooltip-text, & .apexcharts-datalabel-label, & .apexcharts-datalabel":{filter:"none",fontWeight:400,fill:t.palette.text.primary,fontFamily:"".concat(t.typography.fontFamily," !important")},"& .apexcharts-pie-label":{filter:"none",fill:t.palette.common.white},"& .apexcharts-pie":{"& .apexcharts-datalabel-label, .apexcharts-datalabel-value":{fontSize:"1.5rem"}},"& .apexcharts-marker":{boxShadow:"none"},"& .apexcharts-legend-series":{margin:"".concat(t.spacing(.75,2)," !important"),"& .apexcharts-legend-text":{marginLeft:t.spacing(.75),color:"".concat(t.palette.text.primary," !important")}},"& .apexcharts-xcrosshairs, & .apexcharts-ycrosshairs, & .apexcharts-gridline":{stroke:t.palette.divider},"& .apexcharts-heatmap-rect":{stroke:"light"===t.palette.mode?t.palette.background.paper:t.palette.background.default},"& .apexcharts-radialbar > g > g:first-of-type .apexcharts-radialbar-area":{stroke:t.palette.background.default},"& .apexcharts-radar-series polygon":{stroke:t.palette.divider,fill:t.palette.background.paper},"& .apexcharts-radar-series line":{stroke:t.palette.divider}}}})),I=r(40276),w=r(88073),S=["Minionverse","Roosterwars"],T=["Flower","Gargul","Shaman","Spider"],_=["PlayRoosters1","PlayRoosters2","PlayRoosters3","PlayRoosters4"];function N(e){return e>=0&&e<2?S[e]:"Invalid Collection"}function P(e,t,r,a,n,s,o){return{id:e,tName:N(t),tokenId:r,address:a,confirmed:n,executed:s,reverted:o}}var R=function(){var e,t=(0,w.r)(),r=t.settings,R=(t.saveSettings,(0,o.useState)(!0)),W=(R[0],R[1],(0,o.useState)("Loading...")),E=(W[0],W[1],(0,o.useState)({type:"info",payload:"Your action info will be alerted, here"})),F=E[0],A=E[1],D=(0,o.useState)([]),L=D[0],M=D[1],O=(0,o.useState)(0),B=O[0],X=O[1],z=(0,o.useState)(0),G=z[0],Y=z[1],q=(0,o.useState)(""),H=q[0],J=q[1],K=(0,o.useState)(""),Q=K[0],U=K[1],V=function(e){var t=e.target;"tier"==t.name?X(t.value):"nfttype"==t.name?Y(t.value):"tokenId"==t.name?J(t.value):"address"==t.name&&U(t.value)};(0,o.useEffect)((function(){var t=function(){var e=(0,a.Z)((function(){return(0,n.__generator)(this,(function(e){return X(0),J(""),U(""),[2]}))}));return function(){return e.apply(this,arguments)}}();t(),e=setInterval(ne,1e3)}),[]);var $,ee=function(e,t){A({type:e,payload:t}),setTimeout((function(){A({type:"",payload:""})}),15e3)},te=function(){var e=(0,a.Z)((function(e){var t,a,s,o,l,c,i,d,u,p,h;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts||0==r.accounts.length)return ee("error","Connect to your wallet!"),[2];t=r.giftdrop,a=r.MinionverseContract,s=r.RoosterwarsContract,o=r.accounts,n.label=1;case 1:return n.trys.push([1,6,,7]),42!=Q.length?(ee("error","Invalid address to: ".concat(Q)),[2]):(l=0==B?r.minionverse.startId:r.roosterwars.startId,c=0==B?r.minionverse.endId:r.roosterwars.endId,i=N(B),d=50*Number(G)+Number(H),Number(d)<Number(l)||Number(d)>Number(c)?(ee("error","".concat(i,": Token Id ").concat(d," is out of range [").concat(l,", ").concat(c,"]")),[2]):[4,(0==B?a:s).methods.ownerOf(d).call()]);case 2:return u=n.sent().toLowerCase(),[4,(0,I.getTreasury)()];case 3:return p=n.sent(),u!=p?(ee("error","".concat(i,": Token Id ").concat(d," doesn't exist in the treasury.")),[2]):(4e5,[4,t.methods.submitAndConfirm(Q,B,d,"0x00").send({from:o[0],gas:4e5})]);case 4:return n.sent(),ee("success","Submit & Confirm Success!\n          -> ".concat(i," Token #").concat(d,"\n          ")),[4,ne()];case 5:return n.sent(),[3,7];case 6:return h=n.sent(),ee("error","".concat(h.message)),[3,7];case 7:return[2]}}))}));return function(t){return e.apply(this,arguments)}}(),re=function(){var e=(0,a.Z)((function(e,t){var a,s,o,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts)return ee("error","Connect to your wallet!"),[2];a=r.giftdrop,s=r.accounts,o=t,n.label=1;case 1:return n.trys.push([1,4,,5]),4e5,[4,a.methods.confirmAndExecute(o).send({from:s[0],gas:4e5})];case 2:return n.sent(),ee("success","Successfully confirmed and executed!\n          -> Transaction ID: ".concat(o,"\n          ")),[4,ne()];case 3:return n.sent(),[3,5];case 4:return l=n.sent(),ee("error","".concat(o," : ").concat(l.message)),[3,5];case 5:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}(),ae=function(){var e=(0,a.Z)((function(e,t){var a,s,o,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(e.preventDefault(),!r.accounts)return ee("error","Connect to your wallet!"),[2];a=r.giftdrop,s=r.accounts,o=t,n.label=1;case 1:return n.trys.push([1,4,,5]),1e5,[4,a.methods.revoke(o).send({from:s[0],gas:1e5})];case 2:return n.sent(),ee("success","Successfully revoked!\n          -> Transaction ID: ".concat(o,"\n          ")),[4,ne()];case 3:return n.sent(),[3,5];case 4:return l=n.sent(),ee("error","".concat(o," : ").concat(l.message)),[3,5];case 5:return[2]}}))}));return function(t,r){return e.apply(this,arguments)}}();function ne(){return se.apply(this,arguments)}function se(){return(se=(0,a.Z)((function(){var t,a,s,o,l,c,i,d,u;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return r.accounts?(e&&clearInterval(e),t=[],a=r.giftdrop,s=r.accounts,[4,a.methods.getTransactionCount().call()]):[2];case 1:o=n.sent(),l=o-1,n.label=2;case 2:return l>=0?[4,a.methods.getTransaction(l).call()]:[3,6];case 3:return c=n.sent(),i=c.tokenId,d=c.tierIndex,[4,a.methods.isConfirmed(l,s[0]).call()];case 4:u=n.sent(),t.push(P(l,d,i,c.to,u,c.executed,c.reverted)),n.label=5;case 5:return l--,[3,2];case 6:return M(t),[2]}}))}))).apply(this,arguments)}return(0,s.jsxs)(C,{children:["undefined"!==typeof F.payload&&""!==F.payload&&(0,s.jsx)(l.Z,{severity:"".concat(F.type),children:F.payload}),null!=r.minionverse&&(0,s.jsx)(l.Z,{severity:"success",children:"Minionverses From #".concat(r.minionverse.startId," To #").concat(r.minionverse.endId,",   \n            Rooster Wars From #").concat(r.roosterwars.startId," To #").concat(r.roosterwars.endId)}),(0,s.jsx)(c.Z,{sx:{position:"relative"},children:(0,s.jsx)(i.Z,{children:(0,s.jsxs)(d.ZP,{container:!0,spacing:6,children:[(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,alignItems:"center",justifyContent:"center",children:(0,s.jsxs)(u.Z,{fullWidth:!0,children:[(0,s.jsx)(p.Z,{id:"demo-simple-select-label",children:"Select NFTs"}),(0,s.jsxs)(h.Z,{name:"tier",labelId:"demo-simple-select-label",id:"demo-simple-select",value:B,label:"Select Type",onChange:V,children:[(0,s.jsx)(f.Z,{value:0,children:S[0]},0),(0,s.jsx)(f.Z,{value:1,children:S[1]},1)]})]})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,alignItems:"center",justifyContent:"center",children:(0,s.jsxs)(u.Z,{fullWidth:!0,children:[(0,s.jsx)(p.Z,{id:"demo-simple-select-label",children:"Select Types"}),(0,s.jsx)(h.Z,{name:"nfttype",labelId:"demo-simple-select-label",id:"demo-simple-select",value:G,label:"Select Type",onChange:V,children:($=B,0==$?T:_).map((function(e,t){return(0,s.jsx)(f.Z,{value:t,children:e},t)}))})]})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(x.Z,{name:"tokenId",fullWidth:!0,label:"Token Index (1~50)",placeholder:"Token Index",value:H,onChange:V})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:4,alignItems:"center",justifyContent:"center",children:(0,s.jsx)(x.Z,{name:"address",fullWidth:!0,label:"Address To",placeholder:"Address",value:Q,onChange:V})}),(0,s.jsx)(d.ZP,{item:!0,sm:12,md:2,sx:{display:"flex"},alignItems:"center",justifyContent:"center",children:(0,s.jsx)(m.Z,{variant:"contained",onClick:function(e){return te(e)},children:"Send"})})]})})}),(0,s.jsx)(g.Z,{component:v.Z,children:(0,s.jsxs)(b.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,s.jsx)(y.Z,{children:(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(j.Z,{algin:"left",sx:{width:"10%"},children:"#"}),(0,s.jsx)(j.Z,{align:"left",children:"NFT"}),(0,s.jsx)(j.Z,{align:"left",children:"Token Id"}),(0,s.jsx)(j.Z,{align:"left",children:"Address"}),(0,s.jsx)(j.Z,{align:"left",sx:{width:"15%"},children:"Status"})]})}),(0,s.jsx)(k.Z,{children:L.map((function(e){return(0,s.jsxs)(Z.Z,{children:[(0,s.jsx)(j.Z,{align:"left",component:"th",scope:"row",children:e.id}),(0,s.jsx)(j.Z,{align:"left",children:e.tName}),(0,s.jsx)(j.Z,{align:"left",children:e.tokenId}),(0,s.jsx)(j.Z,{align:"left",children:e.address}),(0,s.jsx)(j.Z,{align:"left",children:e.executed?(0,s.jsx)(m.Z,{children:"Completed"}):e.reverted?(0,s.jsx)(m.Z,{children:"Revoked"}):1==e.confirmed?(0,s.jsx)(m.Z,{variant:"outlined",onClick:function(t){return ae(t,e.id)},children:"Revoke"}):(0,s.jsx)(m.Z,{variant:"outlined",onClick:function(t){return re(t,e.id)},children:"Confirm"})})]},e.id)}))})]})})]})}}},function(e){e.O(0,[260,774,888,179],(function(){return t=75557,e(e.s=t);var t}));var t=e.O();_N_E=t}]);